<!-- chat.html -->
<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Sala ✦ Cross Moon</title>
  <link rel="stylesheet" href="style-chat.css" />
</head>

<body class="chat-body">
  <!-- CABECERA -->
  <header class="chat-header">
    <div class="chat-header-left">
      <div class="chat-logo">DW</div>
      <div>
        <div class="chat-title">Draw World JC-2</div>
        <div class="chat-subtitle">Sala de Rol · Luna de Cristal</div>
      </div>
    </div>

    <div class="chat-header-right">
      <div class="chat-user-passport">
        <div id="chat-user-avatar" class="chat-user-avatar"></div>
        <div class="chat-user-info">
          <div id="chat-user-name" class="chat-user-name">Viajero</div>
          <div id="chat-user-tag" class="chat-user-tag">ID: DW-0000</div>
        </div>
      </div>
    </div>
  </header>

  <!-- LAYOUT PRINCIPAL -->
  <main class="chat-shell">
    <!-- COLUMNA PRINCIPAL: CHAT -->
    <section class="chat-main">
      <div id="chat-box" class="chat-box"></div>

      <div id="typing-indicator" class="typing-indicator hidden">
        <span class="typing-label">GM está escribiendo</span>
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </div>

      <div class="chat-input-bar">
        <textarea id="message-input" class="chat-input" rows="1"
          placeholder="Escribe aquí para rolear con tu party..."></textarea>
        <button id="send-btn" class="btn primary">Enviar</button>
      </div>
    </section>

    <!-- COLUMNA LATERAL: JUGADORES -->
    <aside class="chat-side">
      <div class="side-card">
        <div class="side-card-header">
          <span>Party en esta instancia</span>
          <span id="players-count" class="badge-pill">0</span>
        </div>
        <ul id="players-list" class="players-list"></ul>
      </div>

      <div class="side-card side-card-lore">
        <div class="side-card-header">
          <span>Registro del Mundo</span>
        </div>
        <div id="lore-log" class="lore-log"></div>
      </div>
    </aside>
  </main>

  <!-- MODAL EDICIÓN -->
  <div id="edit-modal-overlay" class="edit-modal-overlay">
    <div class="edit-modal">
      <h2 class="edit-modal-title">Editar mensaje</h2>
      <textarea id="editText" class="edit-textarea"></textarea>
      <div class="edit-modal-actions">
        <button id="cancelEditBtn" class="btn ghost">Cancelar</button>
        <button id="saveEditBtn" class="btn primary">Guardar</button>
      </div>
    </div>
  </div>

  <script src="js/chat.js"></script>
</body>

</html>
